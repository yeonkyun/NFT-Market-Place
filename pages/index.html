<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Page</title>
    <!-- css link -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Jost:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <style>
        body {
            font-family: 'Jost', sans-serif;
        }

        .korean-font {
            font-family: 'Do Hyeon', sans-serif;
        }
    </style>
</head>

<body>
    <header>
        <a href="/" class="logo"><img src="images/logo.png" alt="Logo"></a>
        <div class="nav-iocon">
            <a href="#"><i class='bx bx-search'></i></a>
            <a href="/login"><i class='bx bx-user'></i></a>
            <a href="#"><i class='bx bx-cart'></i></a>
            <div class="bx bx-menu" id="menu-icon"></div>
        </div>
    </header>

    <section class="shop-banner">
        <div class="banner-text">
            <h1>Shop Our Latest Collection</h1>
            <p>Find the best deals and latest trends.</p>
        </div>
    </section>

    <!-- 프로필 영역 -->
    <div class="col"></div>
    <div class="col-sm-8">
        <!-- 유저 프로필 -->
        <section class="profile-products">
            <div class="profile-section korean-font" style="text-align: center;">
                <h2>사용자 프로필</h2>
                {% if user_id %}
                <p>Welcome, {{ user_name }}!</p> <!--로그인 시 띄우는 정보-->
                <p><a href="/addProduct">Add Product</a></p>
                <p id="eth"></p>
                <ul class="nav justify-content-end">
                    <li class="nav-item">
                        <a class="nav-link" href="/myinfo?id={{ user_id }}">{{ user_id }}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logout">LogOut</a>
                    </li>
                </ul>
                <br>
                <script>
                    function MyETH() {
                        const web3 = new Web3(new Web3.providers.HttpProvider("HTTP://210.119.34.24:7545"));

                        const balance = web3.fromWei(web3.eth.getBalance(`{{user_acc}}`)).toNumber().toFixed(2);
                        $('#eth').text(`${balance} ETH`);
                    }

                    $(document).ready(function () {
                        if (`{{user_acc}}`) MyETH();
                    });
                </script>
                {% else %}
                <ul class="nav justify-content-end"> <!--로그인 아닐 시 띄우는 정보-->
                    <br>
                    <li class="nav-item">
                        <a class="nav-link" href="/login">Login</a>
                    </li>
                    <br>
                    <li class="nav-item">
                        <a class="nav-link" href="/register">Register</a>
                    </li>
                </ul>
                {% endif %}
            </div>

            <!-- Added Products Section -->
            <div class="added-products korean-font">
                <h2>Added Products</h2>
                <div class="product-grid">
                    <!-- Product 1 -->
                    {% for data in datas %}
                    <div class="product-card">
                        <img class="item_img" src="images/{{data.contents}}">
                        <div class="product-info korean-font">
                            <h4>{{ data.name }}</h4>
                            <p>{{ data.price }}</p>
                            <a href="/itemdetail?id={{ data.id }}" class="btn">View Details</a>
                        </div>
                    </div>
                    {% endfor %}

                    <!-- More products as needed -->
                </div>
            </div>
        </section>

        <footer>
            <div class="end-text">
                <p>Copyright @2024. All Rights Reserved. Designed By Saidul Islam.</p>
            </div>
        </footer>

        <!-- JavaScript -->
        <script src="java.js"></script>
        <script>
            // JavaScript to handle price range slider
            const priceRange = document.getElementById('priceRange');
            const priceValue = document.getElementById('priceValue');

            priceRange.addEventListener('input', function () {
                priceValue.textContent = `$${priceRange.value}`;
            });
        </script>
</body>

</html>